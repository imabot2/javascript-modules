export var ajax=e=>{let t={};switch(typeof e){case"string":t.url=e;break;case"object":t=e}"data"in t||(t.data={}),"method"in t||(t.method="POST");let n={resolve:null,reject:null},a=new XMLHttpRequest;var o=function(e,n){switch(typeof e){case"object":t.data=Object.assign(e,t.data);break;case"string":t.data=Object.assign({[e]:n},t.data)}},r=function(e){return o(e),new Promise((e,o)=>{n.resolve=e,n.reject=o,a.onreadystatechange=s,a.open(t.method,t.url),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(Object.keys(t.data).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t.data[e])).join("&"))})},s=function(){4==a.readyState&&(a.status<200||a.status>299?n.reject(a):n.resolve(a.responseText))};return{data:function(e,t){return o(e,t),this},url:function(e){return t.url=e,this},method:function(e){return t.method=e,this},send:r,post:function(e){return t.method="POST",r(e)},get:function(e){return t.method="GET",r(e)}}};
