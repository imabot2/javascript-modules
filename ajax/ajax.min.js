export var ajax=e=>{let t={};switch(typeof e){case"string":t.url=e;break;case"object":t=e}"data"in t||(t.data={}),"method"in t||(t.method="POST");let n={resolve:null,reject:null},a=new XMLHttpRequest;var r=function(){4==a.readyState&&(a.status<200&&a.status>201?n.reject(a):n.resolve(a.responseText))};return{data:function(e,n){switch(typeof e){case"object":t.data=Object.assign(e,t.data);break;case"string":t.data=Object.assign({[e]:n},t.data)}return this},url:function(e){return t.url=e,this},method:function(e){return t.method=e,this},send:function(){return new Promise((e,o)=>{n.resolve=e,n.reject=o,a.onreadystatechange=r,a.open(t.method,t.url),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(Object.keys(t.data).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t.data[e])).join("&"))})}}};
